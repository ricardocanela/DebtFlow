# Default values for debtflow
replicaCount:
  api: 2
  worker: 2
  beat: 1
  frontend: 2

image:
  api:
    repository: debtflow-api
    tag: latest
    pullPolicy: IfNotPresent
  frontend:
    repository: debtflow-frontend
    tag: latest
    pullPolicy: IfNotPresent

serviceAccount:
  api:
    annotations: {}
  worker:
    annotations: {}

service:
  type: ClusterIP
  port: 8000

ingress:
  enabled: true
  className: alb
  host: debtflow.example.com
  tls:
    enabled: false
    secretName: ""
  annotations:
    kubernetes.io/ingress.class: alb
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/target-type: ip
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}]'

resources:
  api:
    requests:
      cpu: 250m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  worker:
    requests:
      cpu: 250m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  beat:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 100m
      memory: 128Mi
  frontend:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 100m
      memory: 128Mi

hpa:
  enabled: true
  minReplicas: 2
  maxReplicas: 10
  targetCPUUtilization: 70

pdb:
  enabled: true
  minAvailable: 2

env:
  DJANGO_SETTINGS_MODULE: config.settings.production

database:
  host: debtflow-db.internal
  port: 5432
  name: debtflow

redis:
  host: debtflow-redis.internal
  port: 6379

celery:
  concurrency: 4

sftp:
  host: ""
  port: 22
  user: sftpuser
  remoteDir: /upload

aws:
  s3Bucket: ""
  region: us-east-1

jwt:
  accessLifetimeMinutes: 15
  refreshLifetimeDays: 7

sentry:
  dsn: ""

secrets:
  djangoSecretKey: ""
  databasePassword: ""
  stripeApiKey: ""
  stripeWebhookSecret: ""
  sftpPassword: ""
